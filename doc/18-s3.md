# ì»¨íŠ¸ë¡¤ëŸ¬

```kotlin
@RestController
@RequestMapping("/api/v1/files")
class S3FileController(
    private val s3FileService: S3FileService,
) {

    /**
     * ë‹¨ì¼ íŒŒì¼ ì—…ë¡œë“œ
     * POST /api/v1/files/upload
     */
    @PostMapping("/upload", consumes = [MediaType.MULTIPART_FORM_DATA_VALUE])
    suspend fun uploadFile(
        @RequestParam("file") file: MultipartFile,
        @RequestParam("path", required = false) filePath: String? = null,
        @RequestParam("metadata", required = false) metadata: Map<String, String> = emptyMap(),
    ): ResponseEntity<*> {
        return when (val result = s3FileService.uploadFile(file, filePath, metadata)) {
            is S3ApiResponse.Success -> ResponseEntity.ok(result.data)
            is S3ApiResponse.Error -> ResponseEntity.status(HttpStatus.BAD_REQUEST).body(
                ErrorResponse(result.errorCode, result.errorMessage)
            )
        }
    }

    /**
     * ë‹¤ì¤‘ íŒŒì¼ ì—…ë¡œë“œ
     * POST /api/v1/files/bulk-upload
     */
    @PostMapping("/bulk-upload", consumes = [MediaType.MULTIPART_FORM_DATA_VALUE])
    suspend fun bulkUpload(
        @RequestParam("files") files: List<MultipartFile>,
        @RequestParam("basePath", required = false) basePath: String? = null,
        @RequestParam("metadata", required = false) metadata: Map<String, String> = emptyMap(),
    ): ResponseEntity<*> {
        // íŒŒì¼ ê²€ì¦
        when (val validation = s3FileService.validateBulkFiles(files)) {
            is S3ApiResponse.Error -> return ResponseEntity.status(HttpStatus.BAD_REQUEST).body(
                ErrorResponse(validation.errorCode, validation.errorMessage)
            )
            is S3ApiResponse.Success -> { /* ê²€ì¦ ì„±ê³µ, ê³„ì† ì§„í–‰ */ }
        }

        return when (val result = s3FileService.bulkUpload(files, basePath, metadata)) {
            is S3ApiResponse.Success -> ResponseEntity.ok(result.data)
            is S3ApiResponse.Error -> ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(
                ErrorResponse(result.errorCode, result.errorMessage)
            )
        }
    }

    /**
     * Presigned URL ìƒì„± (ì—…ë¡œë“œìš©)
     * POST /api/v1/files/presigned-upload-url
     */
    @PostMapping("/presigned-upload-url")
    suspend fun generateUploadUrl(
        @RequestBody @Valid request: PresignedUploadUrlRequest,
    ): ResponseEntity<*> {
        return when (val result = s3FileService.generateUploadUrl(
            fileName = request.fileName,
            contentType = request.contentType,
            filePath = request.filePath,
            expirationSeconds = request.expirationSeconds,
            metadata = request.metadata
        )) {
            is S3ApiResponse.Success -> ResponseEntity.ok(result.data)
            is S3ApiResponse.Error -> ResponseEntity.status(HttpStatus.BAD_REQUEST).body(
                ErrorResponse(result.errorCode, result.errorMessage)
            )
        }
    }

    /**
     * Presigned URL ìƒì„± (ë‹¤ìš´ë¡œë“œìš©)
     * POST /api/v1/files/{fileKey}/presigned-download-url
     */
    @PostMapping("/{fileKey}/presigned-download-url")
    suspend fun generateDownloadUrl(
        @PathVariable fileKey: String,
        @RequestParam("expirationSeconds", defaultValue = "3600") 
        @Min(60) @Max(604800) expirationSeconds: Long,
    ): ResponseEntity<*> {
        return when (val result = s3FileService.generateDownloadUrl(fileKey, expirationSeconds)) {
            is S3ApiResponse.Success -> ResponseEntity.ok(result.data)
            is S3ApiResponse.Error -> ResponseEntity.status(HttpStatus.NOT_FOUND).body(
                ErrorResponse(result.errorCode, result.errorMessage)
            )
        }
    }

    /**
     * íŒŒì¼ ë‹¤ìš´ë¡œë“œ
     * GET /api/v1/files/{fileKey}/download
     */
    @GetMapping("/{fileKey}/download")
    suspend fun downloadFile(
        @PathVariable fileKey: String,
    ): ResponseEntity<*> {
        return when (val result = s3FileService.downloadFile(fileKey)) {
            is S3ApiResponse.Success -> {
                // íŒŒì¼ ì •ë³´ë„ í•¨ê»˜ ì¡°íšŒí•´ì„œ Content-Type ì„¤ì •
                when (val infoResult = s3FileService.getFileInfo(fileKey)) {
                    is S3ApiResponse.Success -> {
                        ResponseEntity.ok()
                            .header("Content-Type", infoResult.data.contentType)
                            .header("Content-Disposition", "attachment; filename=\"${infoResult.data.originalFileName}\"")
                            .body(result.data)
                    }
                    is S3ApiResponse.Error -> {
                        // íŒŒì¼ ì •ë³´ ì¡°íšŒ ì‹¤íŒ¨í•´ë„ ë‹¤ìš´ë¡œë“œëŠ” ì œê³µ
                        ResponseEntity.ok()
                            .header("Content-Type", "application/octet-stream")
                            .body(result.data)
                    }
                }
            }
            is S3ApiResponse.Error -> ResponseEntity.status(HttpStatus.NOT_FOUND).body(
                ErrorResponse(result.errorCode, result.errorMessage)
            )
        }
    }

    /**
     * íŒŒì¼ ì •ë³´ ì¡°íšŒ
     * GET /api/v1/files/{fileKey}
     */
    @GetMapping("/{fileKey}")
    suspend fun getFileInfo(
        @PathVariable fileKey: String,
    ): ResponseEntity<*> {
        return when (val result = s3FileService.getFileInfo(fileKey)) {
            is S3ApiResponse.Success -> ResponseEntity.ok(result.data)
            is S3ApiResponse.Error -> ResponseEntity.status(HttpStatus.NOT_FOUND).body(
                ErrorResponse(result.errorCode, result.errorMessage)
            )
        }
    }

    /**
     * íŒŒì¼ ì‚­ì œ
     * DELETE /api/v1/files/{fileKey}
     */
    @DeleteMapping("/{fileKey}")
    suspend fun deleteFile(
        @PathVariable fileKey: String,
    ): ResponseEntity<*> {
        return when (val result = s3FileService.deleteFile(fileKey)) {
            is S3ApiResponse.Success -> ResponseEntity.ok(result.data)
            is S3ApiResponse.Error -> ResponseEntity.status(HttpStatus.NOT_FOUND).body(
                ErrorResponse(result.errorCode, result.errorMessage)
            )
        }
    }

    /**
     * íŒŒì¼ ì¡´ì¬ ì—¬ë¶€ í™•ì¸
     * HEAD /api/v1/files/{fileKey}
     */
    @RequestMapping("/{fileKey}", method = [RequestMethod.HEAD])
    suspend fun checkFileExists(
        @PathVariable fileKey: String,
    ): ResponseEntity<*> {
        return when (val result = s3FileService.fileExists(fileKey)) {
            is S3ApiResponse.Success -> {
                if (result.data) {
                    ResponseEntity.ok().build<Void>()
                } else {
                    ResponseEntity.notFound().build<Void>()
                }
            }
            is S3ApiResponse.Error -> ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).build<Void>()
        }
    }

    /**
     * ì„¤ì • ì •ë³´ ì¡°íšŒ
     * GET /api/v1/files/config
     */
    @GetMapping("/config")
    fun getConfig(): ResponseEntity<FileConfigResponse> {
        return ResponseEntity.ok(
            FileConfigResponse(
                supportedExtensions = s3FileService.getSupportedExtensions(),
                maxFileSizeBytes = s3FileService.getMaxFileSize(),
                maxFileSizeMB = s3FileService.getMaxFileSizeMB()
            )
        )
    }

    /**
     * íŒŒì¼ ê²€ì¦
     * POST /api/v1/files/validate
     */
    @PostMapping("/validate", consumes = [MediaType.MULTIPART_FORM_DATA_VALUE])
    fun validateFile(
        @RequestParam("file") file: MultipartFile,
    ): ResponseEntity<*> {
        return when (val result = s3FileService.validateFile(file)) {
            is S3ApiResponse.Success -> ResponseEntity.ok(
                ValidationResponse(
                    valid = true,
                    message = "íŒŒì¼ì´ ìœ íš¨í•©ë‹ˆë‹¤"
                )
            )
            is S3ApiResponse.Error -> ResponseEntity.status(HttpStatus.BAD_REQUEST).body(
                ValidationResponse(
                    valid = false,
                    message = result.errorMessage,
                    errorCode = result.errorCode
                )
            )
        }
    }
}

// DTO í´ë˜ìŠ¤ë“¤
data class PresignedUploadUrlRequest(
    @field:NotBlank(message = "íŒŒì¼ëª…ì€ í•„ìˆ˜ì…ë‹ˆë‹¤")
    val fileName: String,
    
    @field:NotBlank(message = "Content-Typeì€ í•„ìˆ˜ì…ë‹ˆë‹¤")
    val contentType: String,
    
    val filePath: String? = null,
    
    @field:Min(value = 60, message = "ìµœì†Œ 1ë¶„ ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤")
    @field:Max(value = 604800, message = "ìµœëŒ€ 7ì¼ê¹Œì§€ ê°€ëŠ¥í•©ë‹ˆë‹¤")
    val expirationSeconds: Long = 3600,
    
    val metadata: Map<String, String> = emptyMap()
)

data class ErrorResponse(
    val errorCode: String,
    val errorMessage: String,
    val timestamp: String = java.time.LocalDateTime.now().toString()
)

data class FileConfigResponse(
    val supportedExtensions: List<String>,
    val maxFileSizeBytes: Long,
    val maxFileSizeMB: Long
)

data class ValidationResponse(
    val valid: Boolean,
    val message: String,
    val errorCode: String? = null
)
```

## ğŸ¯ **API ì—”ë“œí¬ì¸íŠ¸ ëª©ë¡**

### **1. íŒŒì¼ ì—…ë¡œë“œ**
```bash
# ë‹¨ì¼ íŒŒì¼ ì—…ë¡œë“œ
POST /api/v1/files/upload
Content-Type: multipart/form-data

curl -X POST "http://localhost:8080/api/v1/files/upload" \
  -F "file=@document.pdf" \
  -F "path=documents/2025" \
  -F "metadata[category]=important"
```

### **2. ë‹¤ì¤‘ íŒŒì¼ ì—…ë¡œë“œ**
```bash
# ë²Œí¬ ì—…ë¡œë“œ
POST /api/v1/files/bulk-upload
Content-Type: multipart/form-data

curl -X POST "http://localhost:8080/api/v1/files/bulk-upload" \
  -F "files=@file1.jpg" \
  -F "files=@file2.png" \
  -F "basePath=images/gallery"
```

### **3. Presigned URL ìƒì„±**
```bash
# ì—…ë¡œë“œìš© URL
POST /api/v1/files/presigned-upload-url
Content-Type: application/json

{
  "fileName": "document.pdf",
  "contentType": "application/pdf",
  "filePath": "documents",
  "expirationSeconds": 3600
}

# ë‹¤ìš´ë¡œë“œìš© URL
POST /api/v1/files/{fileKey}/presigned-download-url?expirationSeconds=7200
```

### **4. íŒŒì¼ ë‹¤ìš´ë¡œë“œ**
```bash
# ì§ì ‘ ë‹¤ìš´ë¡œë“œ
GET /api/v1/files/{fileKey}/download

curl -X GET "http://localhost:8080/api/v1/files/uploads/2025/1/document_123456_abc123.pdf/download" \
  --output downloaded_file.pdf
```

### **5. íŒŒì¼ ê´€ë¦¬**
```bash
# íŒŒì¼ ì •ë³´ ì¡°íšŒ
GET /api/v1/files/{fileKey}

# íŒŒì¼ ì¡´ì¬ í™•ì¸
HEAD /api/v1/files/{fileKey}

# íŒŒì¼ ì‚­ì œ
DELETE /api/v1/files/{fileKey}
```

### **6. ìœ í‹¸ë¦¬í‹°**
```bash
# ì„¤ì • ì •ë³´ ì¡°íšŒ
GET /api/v1/files/config

# íŒŒì¼ ê²€ì¦
POST /api/v1/files/validate
Content-Type: multipart/form-data
```

## ğŸ”§ **ì£¼ìš” íŠ¹ì§•**

1. **RESTful ì„¤ê³„**: í‘œì¤€ HTTP ë©”ì„œë“œì™€ ìƒíƒœ ì½”ë“œ ì‚¬ìš©
2. **ê²€ì¦ í†µí•©**: ì—…ë¡œë“œ ì „ íŒŒì¼ ê²€ì¦ ìë™ ìˆ˜í–‰
3. **ì—ëŸ¬ ì²˜ë¦¬**: ì¼ê´€ëœ ì—ëŸ¬ ì‘ë‹µ êµ¬ì¡°
4. **Content-Type ìë™ ì„¤ì •**: ë‹¤ìš´ë¡œë“œ ì‹œ ì ì ˆí•œ í—¤ë” ì„¤ì •
5. **ì„¤ì • ë…¸ì¶œ**: í´ë¼ì´ì–¸íŠ¸ê°€ ì œí•œì‚¬í•­ì„ ë¯¸ë¦¬ í™•ì¸ ê°€ëŠ¥

# AWS S3 ì„¤ì •ê°’ í™•ì¸ì„ ìœ„í•œ ìƒì„¸ ì½˜ì†” ë„¤ë¹„ê²Œì´ì…˜ ê°€ì´ë“œ

AWS S3ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•œ í•µì‹¬ ì„¤ì •ê°’ë“¤ì€ **AWS Management Consoleì˜ ì„œë¡œ ë‹¤ë¥¸ ì„œë¹„ìŠ¤ì—ì„œ í™•ì¸**í•´ì•¼ í•©ë‹ˆë‹¤. S3 ê´€ë ¨ ì„¤ì •ì€ S3 ì½˜ì†”ì—ì„œ, ì¸ì¦ ì •ë³´ëŠ” IAM ì„œë¹„ìŠ¤ì—ì„œ ê´€ë¦¬ë©ë‹ˆë‹¤. íŠ¹íˆ **Access Keyì™€ Secret KeyëŠ” IAMì—ì„œ ìƒì„±í•˜ë©°, Secret KeyëŠ” ìƒì„± ì‹œì ì—ë§Œ í™•ì¸ ê°€ëŠ¥**í•˜ë‹¤ëŠ” ì ì´ ì¤‘ìš”í•©ë‹ˆë‹¤.

ê° ì„¤ì •ê°’ë³„ë¡œ ì •í™•í•œ ë©”ë‰´ ê²½ë¡œì™€ í™”ë©´ ìœ„ì¹˜ë¥¼ ì•ˆë‚´í•˜ê² ìŠµë‹ˆë‹¤. LocalStackì´ë‚˜ MinIO ê°™ì€ S3 í˜¸í™˜ ì„œë¹„ìŠ¤ë¥¼ ìœ„í•œ ì»¤ìŠ¤í…€ ì—”ë“œí¬ì¸íŠ¸ ì„¤ì •ë²•ë„ í¬í•¨í–ˆìŠµë‹ˆë‹¤.

## S3 ë¦¬ì „ í™•ì¸ ë°©ë²•

AWS ì½˜ì†”ì—ì„œ S3 ë¦¬ì „ì„ í™•ì¸í•˜ëŠ” ê°€ì¥ í™•ì‹¤í•œ ë°©ë²•ì€ **ê°œë³„ ë²„í‚·ì˜ ì†ì„± íƒ­**ì„ í†µí•´ì„œì…ë‹ˆë‹¤.

### ì •í™•í•œ ë„¤ë¹„ê²Œì´ì…˜ ê²½ë¡œ
1. **AWS Management Console** ì ‘ì†: https://console.aws.amazon.com/
2. **S3 ì„œë¹„ìŠ¤ ì ‘ê·¼**: ìƒë‹¨ "Services" ë©”ë‰´ â†’ "Storage" â†’ "S3" í´ë¦­ (ë˜ëŠ” ê²€ìƒ‰ì°½ì— "S3" ì…ë ¥)
3. **S3 ì½˜ì†”**: https://console.aws.amazon.com/s3/ ì§ì ‘ ì ‘ê·¼ ê°€ëŠ¥

### ë¦¬ì „ í™•ì¸ ë‹¨ê³„
1. **S3 ë©”ì¸ ëŒ€ì‹œë³´ë“œ**ì—ì„œ ì™¼ìª½ ì‚¬ì´ë“œë°” "General purpose buckets" (ë²”ìš© ë²„í‚·) ì„ íƒ
2. **ë²„í‚· ëª©ë¡**ì—ì„œ í™•ì¸í•˜ê³ ì í•˜ëŠ” ë²„í‚·ëª… í´ë¦­
3. **ë²„í‚· ìƒì„¸ í˜ì´ì§€**ì—ì„œ **"Properties" íƒ­** (ì†ì„± íƒ­) í´ë¦­
4. **"Bucket overview" ì„¹ì…˜**ì—ì„œ "AWS Region" í•„ë“œ í™•ì¸
    - ë¦¬ì „ëª… í˜•íƒœ: "US East (N. Virginia)"
    - ë¦¬ì „ ì½”ë“œ: "us-east-1"

### ì¶”ê°€ í™•ì¸ ë°©ë²•
- **ì½˜ì†” ìš°ìƒë‹¨ ë¦¬ì „ ë“œë¡­ë‹¤ìš´**: í˜„ì¬ ì„ íƒëœ ë¦¬ì „ í‘œì‹œ
- **ë²„í‚· ëª©ë¡ í™”ë©´**: ì¼ë¶€ ë¦¬ì „ ì •ë³´ê°€ "Region" ì»¬ëŸ¼ì— í‘œì‹œ
- **AWS CLI**: `aws s3api get-bucket-location --bucket <ë²„í‚·ëª…>` ëª…ë ¹ì–´ ì‚¬ìš©

## S3 ë²„í‚·ëª… í™•ì¸ ë°©ë²•

S3 ë²„í‚·ëª…ì€ **S3 ì½˜ì†”ì˜ ë©”ì¸ ëŒ€ì‹œë³´ë“œ**ì—ì„œ ê°€ì¥ ì‰½ê²Œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ë²„í‚·ëª… í™•ì¸ ìœ„ì¹˜
1. **S3 ì½˜ì†” ì ‘ê·¼**: Services â†’ Storage â†’ S3
2. **ë©”ì¸ ëŒ€ì‹œë³´ë“œ**: ì™¼ìª½ "General purpose buckets" í´ë¦­
3. **ë²„í‚· ëª©ë¡ í…Œì´ë¸”**ì˜ **"Name" ì»¬ëŸ¼** (ì´ë¦„ ì»¬ëŸ¼)ì—ì„œ ì „ì²´ ë²„í‚·ëª… í™•ì¸

### ìƒì„¸ ì •ë³´ í™•ì¸
- **ë²„í‚· í´ë¦­**: ë²„í‚·ëª…ì„ í´ë¦­í•˜ë©´ ë²„í‚· ë‚´ë¶€ë¡œ ì´ë™
- **ë¸Œë ˆë“œí¬ëŸ¼ ë„¤ë¹„ê²Œì´ì…˜**: ìƒë‹¨ì— í˜„ì¬ ìœ„ì¹˜ì™€ ë²„í‚·ëª… í‘œì‹œ
- **Properties íƒ­**: ë²„í‚·ì˜ ì™„ì „í•œ ì •ë³´(ARN, ë¦¬ì „ ë“±) í¬í•¨

**ì¤‘ìš” ì •ë³´**: S3 ì½˜ì†”ì€ ëª¨ë“  ë¦¬ì „ì˜ ë²„í‚·ì„ í•œ ë²ˆì— í‘œì‹œí•˜ë¯€ë¡œ ë¦¬ì „ ë³€ê²½ ì—†ì´ ëª¨ë“  ë²„í‚·ëª… í™•ì¸ ê°€ëŠ¥

## AWS Access Key ID ìƒì„± ë° í™•ì¸ ë°©ë²•

Access KeyëŠ” **IAM ì„œë¹„ìŠ¤**ì—ì„œ ê´€ë¦¬í•˜ë©°, ì‚¬ìš©ìë³„ë¡œ ìµœëŒ€ 2ê°œê¹Œì§€ ìƒì„± ê°€ëŠ¥í•©ë‹ˆë‹¤.

### IAM ì„œë¹„ìŠ¤ ì ‘ê·¼ ê²½ë¡œ
1. **AWS Management Console** â†’ "Services" ë©”ë‰´
2. **"Security, Identity, & Compliance"** ì¹´í…Œê³ ë¦¬
3. **"IAM"** í´ë¦­ (ë˜ëŠ” https://console.aws.amazon.com/iam/)

### Access Key ìƒì„± ë‹¨ê³„
1. **IAM ì½˜ì†”**ì—ì„œ ì™¼ìª½ ë„¤ë¹„ê²Œì´ì…˜ **"Users"** (ì‚¬ìš©ì) í´ë¦­
2. **ì‚¬ìš©ì ëª©ë¡**ì—ì„œ Access Keyë¥¼ ìƒì„±í•  ì‚¬ìš©ìëª… í´ë¦­
3. **"Security credentials" íƒ­** (ë³´ì•ˆ ìê²© ì¦ëª…) ì„ íƒ
4. **"Access keys" ì„¹ì…˜**ìœ¼ë¡œ ìŠ¤í¬ë¡¤
5. **"Create access key"** (ì•¡ì„¸ìŠ¤ í‚¤ ìƒì„±) ë²„íŠ¼ í´ë¦­ - **íŒŒë€ìƒ‰ ë²„íŠ¼**
6. **ì‚¬ìš© ëª©ì  ì„ íƒ**: CLI, SDK ë“± ì ì ˆí•œ ìš©ë„ ì„ íƒ í›„ "Next"
7. **ì„ íƒì  ì„¤ëª… íƒœê·¸** ì¶”ê°€ í›„ **"Create access key"** í´ë¦­
8. **í‚¤ ë‹¤ìš´ë¡œë“œ**: **"Download .csv file"** ë²„íŠ¼ìœ¼ë¡œ ì•ˆì „í•˜ê²Œ ì €ì¥

### ê¸°ì¡´ Access Key í™•ì¸
- **ë™ì¼í•œ ê²½ë¡œ**: IAM â†’ Users â†’ [ì‚¬ìš©ìëª…] â†’ Security credentials
- **Access keys ì„¹ì…˜**ì—ì„œ í™•ì¸ ê°€ëŠ¥í•œ ì •ë³´:
    - **Access Key ID**: "AKIA"ë¡œ ì‹œì‘í•˜ëŠ” 20ì ì‹ë³„ì
    - **ìƒíƒœ**: Active/Inactive
    - **ìƒì„± ë‚ ì§œ**
    - **ì„¤ëª…** (ìˆëŠ” ê²½ìš°)

## AWS Secret Access Key ìƒì„± ë° í™•ì¸ ë°©ë²•

Secret Access KeyëŠ” **Access Key IDì™€ í•¨ê»˜ ìë™ ìƒì„±**ë˜ë©°, ë³´ì•ˆìƒ ìƒì„± ì‹œì ì—ë§Œ í™•ì¸ ê°€ëŠ¥í•©ë‹ˆë‹¤.

### Secret Key íŠ¹ì„±
- **ë™ì‹œ ìƒì„±**: Access Key IDì™€ ìŒìœ¼ë¡œ ìë™ ìƒì„±
- **ì¼íšŒì„± í™•ì¸**: ìƒì„± ê³¼ì •ì—ì„œë§Œ ë³¼ ìˆ˜ ìˆìŒ
- **40ì í˜•íƒœ**: ë¬´ì‘ìœ„ ì˜ìˆ«ì ë¬¸ìì—´
- **ë³µêµ¬ ë¶ˆê°€**: ë¶„ì‹¤ ì‹œ ìƒˆë¡œìš´ í‚¤ ìŒ ìƒì„± í•„ìš”

### Secret Key í™•ì¸ ë° ì €ì¥
1. **Access Key ìƒì„± ê³¼ì •**ì—ì„œ ìµœì¢… ë‹¨ê³„
2. **"Retrieve access keys" í™”ë©´**ì—ì„œ **"Show"** ë²„íŠ¼ í´ë¦­
3. **ì¦‰ì‹œ ì €ì¥ í•„ìˆ˜**:
    - **CSV íŒŒì¼ ë‹¤ìš´ë¡œë“œ** (ê¶Œì¥)
    - ì•ˆì „í•œ ìœ„ì¹˜ì— ë³µì‚¬ ì €ì¥
4. **ë³´ì•ˆ ê¶Œì¥ì‚¬í•­**:
    - ì†ŒìŠ¤ì½”ë“œë‚˜ ì„¤ì •íŒŒì¼ì— ì§ì ‘ ì…ë ¥ ê¸ˆì§€
    - AWS Secrets Manager ë˜ëŠ” ì•”í˜¸í™”ëœ ë¹„ë°€ë²ˆí˜¸ ê´€ë¦¬ì ì‚¬ìš©
    - ì •ê¸°ì ì¸ í‚¤ ìˆœí™˜ (rotation) ì‹¤ì‹œ

### ì¤‘ìš”í•œ ë³´ì•ˆ ê³ ë ¤ì‚¬í•­
- **MFA í™œì„±í™”**: ì¶”ê°€ ë³´ì•ˆ ê³„ì¸µ
- **ìµœì†Œ ê¶Œí•œ ì›ì¹™**: í•„ìš”í•œ ê¶Œí•œë§Œ ë¶€ì—¬
- **CloudTrail í™œì„±í™”**: í‚¤ ì‚¬ìš© ëª¨ë‹ˆí„°ë§
- **ë¯¸ì‚¬ìš© í‚¤ ë¹„í™œì„±í™”**: ì •ê¸°ì ì¸ í‚¤ ê´€ë¦¬

## ì»¤ìŠ¤í…€ ì—”ë“œí¬ì¸íŠ¸ ì„¤ì •

S3 í˜¸í™˜ ì„œë¹„ìŠ¤ì¸ **LocalStackê³¼ MinIO**ë¥¼ ìœ„í•œ ì—”ë“œí¬ì¸íŠ¸ ì„¤ì • ë°©ë²•ì…ë‹ˆë‹¤.

### LocalStack ì„¤ì •

**ê¸°ë³¸ ì—”ë“œí¬ì¸íŠ¸**: `http://localhost:4566`

**ê¶Œì¥ ì—”ë“œí¬ì¸íŠ¸**: `http://s3.localhost.localstack.cloud:4566`

#### Python boto3 ì˜ˆì œ
```python
import boto3

s3_client = boto3.client(
    's3',
    endpoint_url="http://localhost:4566",
    aws_access_key_id="test",
    aws_secret_access_key="test",
    region_name='us-east-1'
)
```

#### AWS CLI ì„¤ì •
```bash
export LOCALSTACK_ENDPOINT=http://localhost:4566
aws configure set default.s3.signature_version s3v4
aws --endpoint-url=$LOCALSTACK_ENDPOINT s3 ls
```

### MinIO ì„¤ì •

**API ì—”ë“œí¬ì¸íŠ¸**: `http://localhost:9000`

**ì›¹ ì½˜ì†”**: `http://localhost:9001`

#### Python boto3 ì˜ˆì œ
```python
s3_client = boto3.client(
    's3',
    endpoint_url='http://localhost:9000',
    aws_access_key_id='your-minio-access-key',
    aws_secret_access_key='your-minio-secret-key',
    region_name='us-east-1'  # MinIOëŠ” ì„ì˜ ë¦¬ì „ëª… ì‚¬ìš© ê°€ëŠ¥
)
```

### ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸ ë°©ë²•
```bash
# LocalStack ìƒíƒœ í™•ì¸
curl http://localhost:4566/health

# MinIO ìƒíƒœ í™•ì¸  
curl http://localhost:9000/minio/health/live

# ë²„í‚· ëª©ë¡ í…ŒìŠ¤íŠ¸
aws --endpoint-url=http://localhost:4566 s3 ls  # LocalStackìš©
aws --endpoint-url=http://localhost:9000 s3 ls   # MinIOìš©
```

## ì¶”ê°€ ìœ ìš© ì •ë³´

### í•œêµ­ì–´ ì¸í„°í˜ì´ìŠ¤ ì„¤ì •
AWS ì½˜ì†”ì€ í•œêµ­ì–´ë¥¼ ì§€ì›í•©ë‹ˆë‹¤. ìš°ìƒë‹¨ ì‚¬ìš©ì ë“œë¡­ë‹¤ìš´ â†’ Settings â†’ Languageì—ì„œ ë³€ê²½ ê°€ëŠ¥í•©ë‹ˆë‹¤.

### ì£¼ìš” í•œêµ­ì–´ ë©”ë‰´ëª…
- **ì„œë¹„ìŠ¤** (Services) - ë©”ì¸ ì„œë¹„ìŠ¤ ë©”ë‰´
- **ì‚¬ìš©ì** (Users) - IAM ì‚¬ìš©ì ì„¹ì…˜
- **ë²„í‚·** (Bucket) - S3 ë²„í‚·
- **ì†ì„±** (Properties) - ë²„í‚· ì†ì„±
- **ë³´ì•ˆ ìê²© ì¦ëª…** (Security Credentials) - ì•¡ì„¸ìŠ¤ í‚¤ ì„¹ì…˜

### Docker í™˜ê²½ì—ì„œì˜ ì—”ë“œí¬ì¸íŠ¸
Docker Compose ì‚¬ìš© ì‹œì—ëŠ” localhost ëŒ€ì‹  **ì„œë¹„ìŠ¤ëª…**ì„ í˜¸ìŠ¤íŠ¸ëª…ìœ¼ë¡œ ì‚¬ìš©í•©ë‹ˆë‹¤ (ì˜ˆ: `http://localstack:4566`, `http://minio:9000`).

ì´ ê°€ì´ë“œë¥¼ í†µí•´ AWS S3 ì„¤ì •ì— í•„ìš”í•œ ëª¨ë“  ê°’ë“¤ì„ ì •í™•í•œ ì½˜ì†” ìœ„ì¹˜ì—ì„œ í™•ì¸í•˜ê³  ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. íŠ¹íˆ ë³´ì•ˆì´ ì¤‘ìš”í•œ Access Keyì™€ Secret KeyëŠ” ë°˜ë“œì‹œ ì•ˆì „í•˜ê²Œ ê´€ë¦¬í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.